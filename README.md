# C2VHDL-Assembly-Tool

This project is designed to compile C code, convert it into assembly code, and then process it to generate cleaned assembly code. The project uses `bison`, `flex`, `gcc` for the compilation steps and a Python script for processing the assembly code.

## Process Overview

1. **C Code**
   - The starting point is a C source file, e.g., `test1.c`. You can replace `test1.c` with any C code you wish to compile. However, note that the compiler does not currently support all commands.

2. **Compilation with `bison` and `flex`**
   - The C source file is transformed into assembly code through a set of files generated by `bison` and `flex`.
   - `bison` generates `comp.tab.c` and `comp.tab.h` from the grammar defined in `comp.y`.
   - `flex` generates `lex.yy.c` from the rules defined in `lex.l`.

3. **Binary Generation**
   - `gcc` is used to compile the generated files (`comp.tab.c`, `lex.yy.c`, and other necessary files like `ts.c`) to create an executable named `comp`.

4. **Execute the Binary**
   - The `comp` executable is then run with a C source file (e.g., `test1.c`), producing an output file containing the assembly code.

5. **Processing Assembly Code with Python**
   - The generated assembly code is processed by a Python script (`cross_compil.py`).
   - The Python script extracts relevant instructions from the assembly code and cleans it by removing label prefixes (`L_`).

6. **Final Integration**
   - The final result, i.e., the binary executable code generated by `comp`, can be injected into VHDL code. This allows for integration with VHDL designs and provides the final result of the code.

## Project Files

- **`comp.y`**: Bison grammar file.
- **`lex.l`**: Flex rules file.
- **`ts.c`**: Additional source file for `gcc`.
- **`test1.c`**: Example C source file for testing the process. You can replace this file with any C code you want to compile.
- **`cross_compil.py`**: Python script for processing and cleaning the assembly code.
- **`PSI_BADAOUI_SALL.pdf`**: Detailed project explanation document.

## Running the Process

To execute the full process, use the following commands:

1. **Compile and Generate the Binary:**

   ```bash
   make all

This command will run bison and flex, then compile the generated files with gcc to create the comp executable.

2. **Run the Binary and Process Assembly Code:**
    ```bash
    make test

This command will run the comp executable with test1.c, then pipe the output to the cross_compil.py Python script for processing.

# Prerequisites
`bison`
`flex`
`gcc`
`python3`

Ensure these tools are installed before running the process.

# Additional Information
For a more detailed explanation of the project, please refer to the PDF document PSI_BADAOUI_SALL.pdf.

